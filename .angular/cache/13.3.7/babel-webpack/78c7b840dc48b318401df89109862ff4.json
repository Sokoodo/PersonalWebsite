{"ast":null,"code":"// Copyright (C) 2016-2017 Sergey Akopkokhyants\n// This project is licensed under the terms of the MIT license.\n// https://github.com/akserg/ng2-toasty\nimport { Component, Input } from '@angular/core';\nimport { isFunction } from './toasty.utils';\nimport { ToastyService, ToastyConfig, ToastyEventType } from './toasty.service';\n/**\n * Toasty is container for Toast components\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './toasty.service';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from './toast.component';\n\nfunction ToastyComponent_ng2_toast_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r3 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"ng2-toast\", 2);\n    ɵngcc0.ɵɵlistener(\"closeToast\", function ToastyComponent_ng2_toast_1_Template_ng2_toast_closeToast_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3);\n      var toast_r1 = restoredCtx.$implicit;\n      var ctx_r2 = ɵngcc0.ɵɵnextContext();\n      return ctx_r2.closeToast(toast_r1);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var toast_r1 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"toast\", toast_r1);\n  }\n}\n\nvar _c0 = function (a0) {\n  return [a0];\n};\n\nvar ToastyComponent = function () {\n  function ToastyComponent(config, toastyService) {\n    this.config = config;\n    this.toastyService = toastyService;\n    this._position = ''; // The storage for toasts.\n\n    this.toasts = []; // Initialise position\n\n    this.position = '';\n  }\n\n  Object.defineProperty(ToastyComponent.prototype, \"position\", {\n    get: function () {\n      return this._position;\n    },\n    // The window position where the toast pops up. Possible values:\n    // - bottom-right (default value from ToastConfig)\n    // - bottom-left\n    // - top-right\n    // - top-left\n    // - top-center\n    // - bottom-center\n    // - center-center\n    set: function (value) {\n      if (value) {\n        var notFound = true;\n\n        for (var i = 0; i < ToastyComponent.POSITIONS.length; i++) {\n          if (ToastyComponent.POSITIONS[i] === value) {\n            notFound = false;\n            break;\n          }\n        }\n\n        if (notFound) {\n          // Position was wrong - clear it here to use the one from config.\n          value = this.config.position;\n        }\n      } else {\n        value = this.config.position;\n      }\n\n      this._position = 'toasty-position-' + value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * `ngOnInit` is called right after the directive's data-bound properties have been checked for the\n   * first time, and before any of its children have been checked. It is invoked only once when the\n   * directive is instantiated.\n   */\n\n  ToastyComponent.prototype.ngOnInit = function () {\n    var _this = this; // We listen events from our service\n\n\n    this.toastyService.events.subscribe(function (event) {\n      if (event.type === ToastyEventType.ADD) {\n        // Add the new one\n        var toast = event.value;\n\n        _this.add(toast);\n      } else if (event.type === ToastyEventType.CLEAR) {\n        // Clear the one by number\n        var id = event.value;\n\n        _this.clear(id);\n      } else if (event.type === ToastyEventType.CLEAR_ALL) {\n        // Lets clear all toasts\n        _this.clearAll();\n      }\n    });\n  };\n  /**\n   * Event listener of 'closeToast' event comes from ToastyComponent.\n   * This method removes ToastComponent assosiated with this Toast.\n   */\n\n\n  ToastyComponent.prototype.closeToast = function (toast) {\n    this.clear(toast.id);\n  };\n  /**\n   * Add new Toast\n   */\n\n\n  ToastyComponent.prototype.add = function (toast) {\n    // If we've gone over our limit, remove the earliest\n    // one from the array\n    if (this.toasts.length >= this.config.limit) {\n      this.toasts.shift();\n    } // Add toasty to array\n\n\n    this.toasts.push(toast); //\n    // If there's a timeout individually or globally,\n    // set the toast to timeout\n\n    if (toast.timeout) {\n      this._setTimeout(toast);\n    }\n  };\n  /**\n   * Clear individual toast by id\n   * @param id is unique identifier of Toast\n   */\n\n\n  ToastyComponent.prototype.clear = function (id) {\n    var _this = this;\n\n    if (id) {\n      this.toasts.forEach(function (value, key) {\n        if (value.id === id) {\n          if (value.onRemove && isFunction(value.onRemove)) {\n            value.onRemove.call(_this, value);\n          }\n\n          _this.toasts.splice(key, 1);\n        }\n      });\n    } else {\n      throw new Error('Please provide id of Toast to close');\n    }\n  };\n  /**\n   * Clear all toasts\n   */\n\n\n  ToastyComponent.prototype.clearAll = function () {\n    var _this = this;\n\n    this.toasts.forEach(function (value, key) {\n      if (value.onRemove && isFunction(value.onRemove)) {\n        value.onRemove.call(_this, value);\n      }\n    });\n    this.toasts = [];\n  };\n  /**\n   * Custom setTimeout function for specific setTimeouts on individual toasts.\n   */\n\n\n  ToastyComponent.prototype._setTimeout = function (toast) {\n    var _this = this;\n\n    window.setTimeout(function () {\n      _this.clear(toast.id);\n    }, toast.timeout);\n  };\n  /**\n   * Set of constants defins position of Toasty on the page.\n   */\n\n\n  ToastyComponent.POSITIONS = ['bottom-right', 'bottom-left', 'top-right', 'top-left', 'top-center', 'bottom-center', 'center-center'];\n  /** @nocollapse */\n\n  ToastyComponent.ctorParameters = function () {\n    return [{\n      type: ToastyConfig\n    }, {\n      type: ToastyService\n    }];\n  };\n\n  ToastyComponent.propDecorators = {\n    'position': [{\n      type: Input\n    }]\n  };\n\n  ToastyComponent.ɵfac = function ToastyComponent_Factory(t) {\n    return new (t || ToastyComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ToastyConfig), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ToastyService));\n  };\n\n  ToastyComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: ToastyComponent,\n    selectors: [[\"ng2-toasty\"]],\n    inputs: {\n      position: \"position\"\n    },\n    decls: 2,\n    vars: 4,\n    consts: [[\"id\", \"toasty\", 3, \"ngClass\"], [3, \"toast\", \"closeToast\", 4, \"ngFor\", \"ngForOf\"], [3, \"toast\", \"closeToast\"]],\n    template: function ToastyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, ToastyComponent_ng2_toast_1_Template, 1, 1, \"ng2-toast\", 1);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(2, _c0, ctx.position));\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.toasts);\n      }\n    },\n    directives: [ɵngcc2.NgClass, ɵngcc2.NgForOf, ɵngcc3.ToastComponent],\n    encapsulation: 2\n  });\n\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n\n  return ToastyComponent;\n}();\n\nexport { ToastyComponent }; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9hc3R5LmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsidG9hc3R5LmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5SUFNTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQU07QUFDTjtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKEMpIDIwMTYtMjAxNyBTZXJnZXkgQWtvcGtva2h5YW50c1xuLy8gVGhpcyBwcm9qZWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIGxpY2Vuc2UuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYWtzZXJnL25nMi10b2FzdHlcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3RvYXN0eS51dGlscyc7XG5pbXBvcnQgeyBUb2FzdHlTZXJ2aWNlLCBUb2FzdHlDb25maWcsIFRvYXN0eUV2ZW50VHlwZSB9IGZyb20gJy4vdG9hc3R5LnNlcnZpY2UnO1xuLyoqXG4gKiBUb2FzdHkgaXMgY29udGFpbmVyIGZvciBUb2FzdCBjb21wb25lbnRzXG4gKi9cbnZhciBUb2FzdHlDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRvYXN0eUNvbXBvbmVudChjb25maWcsIHRvYXN0eVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMudG9hc3R5U2VydmljZSA9IHRvYXN0eVNlcnZpY2U7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gJyc7XG4gICAgICAgIC8vIFRoZSBzdG9yYWdlIGZvciB0b2FzdHMuXG4gICAgICAgIHRoaXMudG9hc3RzID0gW107XG4gICAgICAgIC8vIEluaXRpYWxpc2UgcG9zaXRpb25cbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9ICcnO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9hc3R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xuICAgICAgICB9LFxuICAgICAgICAvLyBUaGUgd2luZG93IHBvc2l0aW9uIHdoZXJlIHRoZSB0b2FzdCBwb3BzIHVwLiBQb3NzaWJsZSB2YWx1ZXM6XG4gICAgICAgIC8vIC0gYm90dG9tLXJpZ2h0IChkZWZhdWx0IHZhbHVlIGZyb20gVG9hc3RDb25maWcpXG4gICAgICAgIC8vIC0gYm90dG9tLWxlZnRcbiAgICAgICAgLy8gLSB0b3AtcmlnaHRcbiAgICAgICAgLy8gLSB0b3AtbGVmdFxuICAgICAgICAvLyAtIHRvcC1jZW50ZXJcbiAgICAgICAgLy8gLSBib3R0b20tY2VudGVyXG4gICAgICAgIC8vIC0gY2VudGVyLWNlbnRlclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFRvYXN0eUNvbXBvbmVudC5QT1NJVElPTlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFRvYXN0eUNvbXBvbmVudC5QT1NJVElPTlNbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uIHdhcyB3cm9uZyAtIGNsZWFyIGl0IGhlcmUgdG8gdXNlIHRoZSBvbmUgZnJvbSBjb25maWcuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb25maWcucG9zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbmZpZy5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gJ3RvYXN0eS1wb3NpdGlvbi0nICsgdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIGBuZ09uSW5pdGAgaXMgY2FsbGVkIHJpZ2h0IGFmdGVyIHRoZSBkaXJlY3RpdmUncyBkYXRhLWJvdW5kIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGNoZWNrZWQgZm9yIHRoZVxuICAgICAqIGZpcnN0IHRpbWUsIGFuZCBiZWZvcmUgYW55IG9mIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gY2hlY2tlZC4gSXQgaXMgaW52b2tlZCBvbmx5IG9uY2Ugd2hlbiB0aGVcbiAgICAgKiBkaXJlY3RpdmUgaXMgaW5zdGFudGlhdGVkLlxuICAgICAqL1xuICAgIFRvYXN0eUNvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFdlIGxpc3RlbiBldmVudHMgZnJvbSBvdXIgc2VydmljZVxuICAgICAgICB0aGlzLnRvYXN0eVNlcnZpY2UuZXZlbnRzLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBUb2FzdHlFdmVudFR5cGUuQUREKSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgb25lXG4gICAgICAgICAgICAgICAgdmFyIHRvYXN0ID0gZXZlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkKHRvYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09IFRvYXN0eUV2ZW50VHlwZS5DTEVBUikge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBvbmUgYnkgbnVtYmVyXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gZXZlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xlYXIoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gVG9hc3R5RXZlbnRUeXBlLkNMRUFSX0FMTCkge1xuICAgICAgICAgICAgICAgIC8vIExldHMgY2xlYXIgYWxsIHRvYXN0c1xuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyQWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXZlbnQgbGlzdGVuZXIgb2YgJ2Nsb3NlVG9hc3QnIGV2ZW50IGNvbWVzIGZyb20gVG9hc3R5Q29tcG9uZW50LlxuICAgICAqIFRoaXMgbWV0aG9kIHJlbW92ZXMgVG9hc3RDb21wb25lbnQgYXNzb3NpYXRlZCB3aXRoIHRoaXMgVG9hc3QuXG4gICAgICovXG4gICAgVG9hc3R5Q29tcG9uZW50LnByb3RvdHlwZS5jbG9zZVRvYXN0ID0gZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgICAgIHRoaXMuY2xlYXIodG9hc3QuaWQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIG5ldyBUb2FzdFxuICAgICAqL1xuICAgIFRvYXN0eUNvbXBvbmVudC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgICAgIC8vIElmIHdlJ3ZlIGdvbmUgb3ZlciBvdXIgbGltaXQsIHJlbW92ZSB0aGUgZWFybGllc3RcbiAgICAgICAgLy8gb25lIGZyb20gdGhlIGFycmF5XG4gICAgICAgIGlmICh0aGlzLnRvYXN0cy5sZW5ndGggPj0gdGhpcy5jb25maWcubGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMudG9hc3RzLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRvYXN0eSB0byBhcnJheVxuICAgICAgICB0aGlzLnRvYXN0cy5wdXNoKHRvYXN0KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlcmUncyBhIHRpbWVvdXQgaW5kaXZpZHVhbGx5IG9yIGdsb2JhbGx5LFxuICAgICAgICAvLyBzZXQgdGhlIHRvYXN0IHRvIHRpbWVvdXRcbiAgICAgICAgaWYgKHRvYXN0LnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFRpbWVvdXQodG9hc3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhciBpbmRpdmlkdWFsIHRvYXN0IGJ5IGlkXG4gICAgICogQHBhcmFtIGlkIGlzIHVuaXF1ZSBpZGVudGlmaWVyIG9mIFRvYXN0XG4gICAgICovXG4gICAgVG9hc3R5Q29tcG9uZW50LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHRoaXMudG9hc3RzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5vblJlbW92ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm9uUmVtb3ZlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUub25SZW1vdmUuY2FsbChfdGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvYXN0cy5zcGxpY2Uoa2V5LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgaWQgb2YgVG9hc3QgdG8gY2xvc2UnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xlYXIgYWxsIHRvYXN0c1xuICAgICAqL1xuICAgIFRvYXN0eUNvbXBvbmVudC5wcm90b3R5cGUuY2xlYXJBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudG9hc3RzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5vblJlbW92ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm9uUmVtb3ZlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uUmVtb3ZlLmNhbGwoX3RoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudG9hc3RzID0gW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDdXN0b20gc2V0VGltZW91dCBmdW5jdGlvbiBmb3Igc3BlY2lmaWMgc2V0VGltZW91dHMgb24gaW5kaXZpZHVhbCB0b2FzdHMuXG4gICAgICovXG4gICAgVG9hc3R5Q29tcG9uZW50LnByb3RvdHlwZS5fc2V0VGltZW91dCA9IGZ1bmN0aW9uICh0b2FzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhcih0b2FzdC5pZCk7XG4gICAgICAgIH0sIHRvYXN0LnRpbWVvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IG9mIGNvbnN0YW50cyBkZWZpbnMgcG9zaXRpb24gb2YgVG9hc3R5IG9uIHRoZSBwYWdlLlxuICAgICAqL1xuICAgIFRvYXN0eUNvbXBvbmVudC5QT1NJVElPTlMgPSBbJ2JvdHRvbS1yaWdodCcsICdib3R0b20tbGVmdCcsICd0b3AtcmlnaHQnLCAndG9wLWxlZnQnLCAndG9wLWNlbnRlcicsICdib3R0b20tY2VudGVyJywgJ2NlbnRlci1jZW50ZXInXTtcbiAgICBUb2FzdHlDb21wb25lbnQuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnbmcyLXRvYXN0eScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIlxcbiAgICA8ZGl2IGlkPVxcXCJ0b2FzdHlcXFwiIFtuZ0NsYXNzXT1cXFwiW3Bvc2l0aW9uXVxcXCI+XFxuICAgICAgICA8bmcyLXRvYXN0ICpuZ0Zvcj1cXFwibGV0IHRvYXN0IG9mIHRvYXN0c1xcXCIgW3RvYXN0XT1cXFwidG9hc3RcXFwiIChjbG9zZVRvYXN0KT1cXFwiY2xvc2VUb2FzdCh0b2FzdClcXFwiPjwvbmcyLXRvYXN0PlxcbiAgICA8L2Rpdj5cIlxuICAgICAgICAgICAgICAgIH0sXSB9LFxuICAgIF07XG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgVG9hc3R5Q29tcG9uZW50LmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgICAgICB7IHR5cGU6IFRvYXN0eUNvbmZpZywgfSxcbiAgICAgICAgeyB0eXBlOiBUb2FzdHlTZXJ2aWNlLCB9LFxuICAgIF07IH07XG4gICAgVG9hc3R5Q29tcG9uZW50LnByb3BEZWNvcmF0b3JzID0ge1xuICAgICAgICAncG9zaXRpb24nOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4gICAgfTtcbiAgICByZXR1cm4gVG9hc3R5Q29tcG9uZW50O1xufSgpKTtcbmV4cG9ydCB7IFRvYXN0eUNvbXBvbmVudCB9O1xuIl19","map":null,"metadata":{},"sourceType":"module"}